rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Autoriser tous les utilisateurs connectes a lire/ecrire
    // Note: A renforcer pour la production
    function signedIn() {
      return request.auth != null;
    }

    match /users/{docId} {
      allow read, write: if signedIn();
    }

    match /eleves/{docId} {
      allow read, write: if signedIn();
    }

    match /professeurs/{docId} {
      allow read, write: if signedIn();
    }

    match /cours/{docId} {
      allow read, write: if signedIn();
    }

    match /presences/{docId} {
      allow read, write: if signedIn();
    }

    match /paiements/{docId} {
      allow read, write: if signedIn();
    }

    match /discipline/{docId} {
      allow read, write: if signedIn();
    }

    match /discipline_logs/{docId} {
      allow read, write: if signedIn();
    }

    match /cahier/{docId} {
      allow read, write: if signedIn();
    }

    match /messages/{docId} {
      allow read, write: if signedIn();
    }

    match /alerts/{docId} {
      allow read, write: if signedIn();
    }

    match /creneaux/{docId} {
      allow read, write: if signedIn();
    }

    match /classes/{docId} {
      allow read, write: if signedIn();
    }

    match /corbeille/{docId} {
      allow read, write: if signedIn();
    }
  }
}
